"use strict";(self.webpackChunksketchfab=self.webpackChunksketchfab||[]).push([[5823],{jSUW:(e,t,o)=>{o.d(t,{$l:()=>m,ST:()=>u,lA:()=>v});var i=o("xKIK"),r=o("sGMM"),n=o("lrhy"),a=o("g/7r");function s(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,i)}return o}function l(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?s(Object(o),!0).forEach((function(t){(0,i.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var d=[0,0];function c(e,t,o){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:170,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20,n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.016,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:.01,s=-i*(e-o),l=-r*t,c=t+(s+l)*n,u=e+c*n;return Math.abs(c)<a&&Math.abs(u-o)<a?(d[0]=o,d[1]=0,d):(d[0]=u,d[1]=c,d)}var u=function(e){var t,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.initialValue,s=void 0===n?0:n,l=i.stiffness,d=void 0===l?170:l,u=i.damping,v=void 0===u?26:u,m=i.onComplete,p=void 0===m?function(){}:m,Z=s,f=0;return function(i){t=i,void 0===Z&&(Z=i),o&&o();var n=!0,s=(0,a.A2)((function(){var o=c(Z,f,t,d,v),i=(0,r.Z)(o,2);Z=i[0],f=i[1],e(Z,f),0!==f&&n&&s(),0===f&&p(Z)}));s(),o=function(){n=!1}}},v=function(e,t){var o=(0,n.pJ)(),i=u(e,l(l({},t),{},{onComplete:function(e){o.resolve(e),o=(0,n.pJ)()}}));return function(e){return i(e),o}},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9;return e*t/(1-t)}},qZtf:(e,t,o)=>{o.d(t,{Z:()=>l});var i=o("sQwH"),r=o("3Z9q"),n=o("g/7r"),a=o("p5Lb"),s=o("X40V");o("lotc");const l=function(e){var t=e.hasSubscribed,o=e.onToggleSubscribe,l=e.subscriberCount,d=e.disabled,c=void 0!==d&&d,u=e.className,v=void 0===u?"":u,m=e.tooltipClassName,p=void 0===m?"tooltip-down":m;return(0,i.Z)("div",{className:(0,s.AK)(v,"help","subscribe-button","count-subscribe-button","btn-loading",{toggled:t,"--disabled":c}),onClick:c?n.EI:o},void 0,(0,i.Z)("span",{className:"count"},void 0,(0,a.sH)(l)),c?(0,i.Z)("span",{className:"tooltip subscribed-content ".concat(p)},void 0,"Subscribers"):(0,i.Z)(r.Fragment,{},void 0,(0,i.Z)("span",{className:"tooltip subscribed-content ".concat(p)},void 0,"Subscribe"),(0,i.Z)("span",{className:"tooltip unsubscribed-content ".concat(p)},void 0,"Unsubscribe")))}},eUuo:(e,t,o)=>{o.d(t,{Z:()=>b});var i=o("D4hk"),r=o("sQwH"),n=o("xKIK"),a=o("3Z9q"),s=o("VDcQ"),l=o("iu9k"),d=o("LvQi"),c=o("A2i4"),u=o("lvYc"),v=o("iqY9"),m=o("8ye0"),p=o("+zma"),Z=o("BNNE"),f=o("X40V");function h(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,i)}return o}function w(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?h(Object(o),!0).forEach((function(t){(0,n.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):h(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}const b=function(e){var t=e.entity,o=t.user,h=t.org,b=e.horizontal,g=void 0!==b&&b,N=e.avatarSize,y=void 0===N?48:N,_=e.className,C=void 0===_?"":_,E=(0,s.v9)(p.wl.authUser.user).uid!==o.uid&&!h,S=h?w(w({},h),{},{account:"ent"}):o;return(0,r.Z)("div",{className:(0,f.AK)(m.Z.view,C,(0,n.Z)({},m.Z.horizontal,g)),itemProp:"creator",itemScope:!0,itemType:"http://schema.org/Person"},void 0,a.createElement("a",(0,i.Z)({href:(0,l.HQ)("users:profile_summary",{username:S.username}),itemProp:"url",className:m.Z.avatar},h&&{"data-user":"".concat(S.uid)},{style:{minWidth:y}}),(0,r.Z)(Z.Z,{uid:S.uid},void 0,(0,r.Z)(c.ZP,{alt:"Avatar of ".concat(S.username),width:y,height:y,images:S.avatars}))),(0,r.Z)("div",{className:m.Z.userContainer},void 0,(0,r.Z)("div",{className:m.Z.displayName},void 0,(0,r.Z)(d.Z,{user:S})),(0,r.Z)("div",{className:"".concat(m.Z.action," actions follow-user-button")},void 0,E?(0,r.Z)(u.Z,{user:o},void 0,(function(e){return a.createElement(v.Z,(0,i.Z)({size:"small"},e))})):null)))}},crlq:(e,t,o)=>{o.d(t,{Z:()=>N});var i,r=o("D4hk"),n=o("sQwH"),a=o("qD8I"),s=o("CUcO"),l=o("8N4v"),d=o("Zfzx"),c=o("FUT3"),u=o("hayj"),v=o("xKIK"),m=o("Cgfs"),p=o("HPk7"),Z=o("3Z9q"),f=o("jSUW"),h=o("X40V"),w=o("yTkX"),b=o("p5Lb");function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,i=(0,u.Z)(e);if(t){var r=(0,u.Z)(this).constructor;o=Reflect.construct(i,arguments,r)}else o=i.apply(this,arguments);return(0,c.Z)(this,o)}}var N=function(e){(0,d.Z)(o,e);var t=g(o);function o(e){var i;return(0,a.Z)(this,o),i=t.call(this,e),(0,v.Z)((0,l.Z)(i),"state",{isPreviousArrowHidden:!0,isNextArrowHidden:!1,currentCard:0}),(0,v.Z)((0,l.Z)(i),"initialDrag",0),(0,v.Z)((0,l.Z)(i),"shownCardsCount",0),(0,v.Z)((0,l.Z)(i),"scrollWidth",0),(0,v.Z)((0,l.Z)(i),"scrollX",0),(0,v.Z)((0,l.Z)(i),"projectedScrollX",0),(0,v.Z)((0,l.Z)(i),"slider",Z.createRef()),(0,v.Z)((0,l.Z)(i),"list",Z.createRef()),(0,v.Z)((0,l.Z)(i),"updateArrowStateThrottled",void 0),(0,v.Z)((0,l.Z)(i),"animateToX",void 0),(0,v.Z)((0,l.Z)(i),"hasContent",(function(){return!!i.props.cards.length})),(0,v.Z)((0,l.Z)(i),"getCurrentCardX",(function(){return i.hasContent()?i.state.currentCard*i.getCardSize():0})),(0,v.Z)((0,l.Z)(i),"getCardSize",(function(){var e;if(!i.hasContent())return 1;var t=null===(e=i.slider.current)||void 0===e?void 0:e.querySelector(".item");if(!t)return 1;var o=window.getComputedStyle(t);return parseFloat(o.width)+2*parseFloat(o["margin-right"])||1})),(0,v.Z)((0,l.Z)(i),"setSliderScrollX",(function(e){i.scrollX=e,i.hasContent()&&i.list.current&&(i.list.current.style.transform="translateX(".concat(-e,"px)"),i.updateArrowStateThrottled())})),(0,v.Z)((0,l.Z)(i),"refreshShownCardsCount",(function(){if(i.slider.current){var e=i.slider.current.getBoundingClientRect().width,t=i.getCardSize();i.shownCardsCount=Math.round(e/t)}})),(0,v.Z)((0,l.Z)(i),"validateIndex",(function(e){return(0,b.vX)(0,i.props.cards.length-i.shownCardsCount,e)})),(0,v.Z)((0,l.Z)(i),"onResize",(0,m.Z)((function(){i.refreshShownCardsCount(),i.animateToX(i.getCurrentCardX())}),250)),(0,v.Z)((0,l.Z)(i),"onDragStart",(function(e){i.initialDrag=i.scrollX+(0,w.wv)(e).x,i.scrollWidth=i.slider.current?i.slider.current.scrollWidth:0})),(0,v.Z)((0,l.Z)(i),"onDrag",(function(e){var t=(0,w.wv)(e),o=t.x+(0,f.$l)(e.velocity.x);i.projectedScrollX=(0,b.vX)(0,i.scrollWidth,i.initialDrag-o),i.animateToX((0,b.vX)(0,i.scrollWidth,i.initialDrag-t.x))})),(0,v.Z)((0,l.Z)(i),"onDragEnd",(function(){var e=i.getCardSize(),t=i.validateIndex(Math.round(i.projectedScrollX/e));i.animateToX(t*e),i.setState({currentCard:t})})),(0,v.Z)((0,l.Z)(i),"onPrevious",(function(){i.setSlide("previous")})),(0,v.Z)((0,l.Z)(i),"onNext",(function(){i.setSlide("next")})),(0,v.Z)((0,l.Z)(i),"setSlide",(function(e){var t=i.getCardSize(),o=i.validateIndex("previous"===e?Math.max(i.state.currentCard-i.shownCardsCount,0):Math.min(i.state.currentCard+i.shownCardsCount,i.props.cards.length-i.shownCardsCount));i.animateToX(o*t),i.setState({currentCard:o,isNextArrowHidden:"next"!==e&&i.state.isNextArrowHidden,isPreviousArrowHidden:0===o})})),(0,v.Z)((0,l.Z)(i),"updateArrowState",(function(){if(i.hasContent()&&i.list.current&&i.slider.current){var e=i.slider.current.getBoundingClientRect(),t=e.right,o=e.left,r=i.list.current,n=r.lastElementChild,a=r.firstElementChild,s=!n||n.getBoundingClientRect().right<=t+20,l=!a||a.getBoundingClientRect().left>=o-20;i.state.isNextArrowHidden===s&&i.state.isPreviousArrowHidden===l||i.setState({isPreviousArrowHidden:l,isNextArrowHidden:s})}})),i.updateArrowStateThrottled=(0,p.Z)(i.updateArrowState.bind((0,l.Z)(i)),250),i.animateToX=(0,f.ST)(i.setSliderScrollX.bind((0,l.Z)(i))),i}return(0,s.Z)(o,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResize),this.refreshShownCardsCount(),this.updateArrowState()}},{key:"componentDidUpdate",value:function(e){this.props.cards.length!==e.cards.length&&(this.refreshShownCardsCount(),this.updateArrowState())}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize)}},{key:"render",value:function(){var e=this.hasContent(),t=this.props,o=t.className,a=t.cards,s=t.title,l=void 0===s?"":s,d=t.linkUrl,c=void 0===d?"":d,u=t.gridSize,v=void 0===u?"normal":u,m=t.color,p=void 0===m?h.O9["--color-primary-400"]:m,f=t.isLoading,b=void 0!==f&&f,g=t.withBackground,N=void 0!==g&&g;return e?(0,n.Z)("div",{className:(0,h.AK)("c-card-slider",o,{"--loading":b})},void 0,l&&(c?(0,n.Z)("a",{className:"c-card-slider__header",href:c},void 0,(0,n.Z)("h4",{className:"c-card-slider__title",style:{color:p}},void 0,l),(0,n.Z)("p",{className:"c-card-slider__link skfb-link",style:{color:p}},void 0,"See more ›")):(0,n.Z)("div",{className:"c-card-slider__header"},void 0,(0,n.Z)("h4",{className:"c-card-slider__title",style:{color:p}},void 0,l))),(0,n.Z)("div",{className:(0,h.AK)("c-card-slider__arrow","--left",{"--hidden":this.state.isPreviousArrowHidden}),onClick:this.onPrevious},void 0,(0,n.Z)("svg",{width:"9",height:"54",viewBox:"0 0 9 54",xmlns:"http://www.w3.org/2000/svg"},void 0,(0,n.Z)("path",{d:"M1.518 27.17v-.26l.034.13-.034.13zm6.977 25.78l-.966.26L.516 27.04 7.53.87l.965.26-6.943 25.91 6.943 25.91zm0 0l-.966.26L.516 27.04 7.53.87l.965.26-6.943 25.91 6.943 25.91zM1.518 27.17v-.26l.034.13-.034.13zm-.01-.3l.044.17-.045.17-.966-.26.012-.04.483.13-.483.13-.01-.04.965-.26zm-.956.3l-.01-.04.965-.26.045.17-.045.17-.966-.26.012-.04.483.13-.483.13z",fillRule:"nonzero",fill:p}))),Z.createElement("div",(0,r.Z)({ref:this.slider,className:(0,h.AK)("c-card-slider__slider","grid","grid-cards","--"+v)},(0,w.QG)({onDragStart:this.onDragStart,onDrag:this.onDrag,onDragEnd:this.onDragEnd})),Z.createElement("div",{ref:this.list,className:"items",style:{transform:"translateX(0px)"}},a)),(0,n.Z)("div",{className:(0,h.AK)("c-card-slider__arrow","--right",{"--hidden":this.state.isNextArrowHidden}),onClick:this.onNext},void 0,(0,n.Z)("svg",{width:"9",height:"53",viewBox:"0 0 9 53",xmlns:"http://www.w3.org/2000/svg"},void 0,(0,n.Z)("path",{d:"M7.977 26.04L1 0l6.977 26.04L1 52.08l6.977-26.04zm0 0l.01.04-.01-.04.01-.04-.01.04z",stroke:p,fill:"none",fillRule:"evenodd",strokeLinecap:"square"}))),N&&(i||(i=(0,n.Z)("div",{className:"c-card-slider__background"})))):null}}]),o}(Z.Component);(0,v.Z)(N,"defaultProps",{title:"",linkUrl:"",gridSize:"normal",color:h.O9["--color-primary-400"],isLoading:!1,withBackground:!1})},"83YH":(e,t,o)=>{o.d(t,{Z:()=>f});var i=o("D4hk"),r=o("sQwH"),n=o("3MRe"),a=o("3Z9q"),s=o("vAnt"),l=o("l9Gv"),d=o("EZio"),c=o("92xS"),u=o("fBod"),v=o("iu9k"),m=o("pLUK"),p=o("e1Pq"),Z=["model"];function f(e){var t=e.model,o=(0,n.Z)(e,Z),f=(0,p.Z)().History,h=(0,m.Z)(a.useCallback((function(){return(0,u.openDownloadPopup)(t)}),[t]));return(0,r.Z)(l.Z,{fallback:(0,r.Z)(s.Z,{text:"Loading",size:"huge",type:"store",className:c.Z["store-btn"]})},void 0,(function(){return(0,r.Z)(d.Z,{model:t},void 0,(function(e){var t=e.isModelInCart,r=e.isModelOwned,n=e.wasJustAdded,l=e.onAddToCart,d=e.isLoading;return a.createElement(s.Z,(0,i.Z)({},function(e){var t=e.isModelOwned,o=e.isModelInCart,i=e.wasJustAdded;return t?{text:"Download",subtext:""}:o?i?{text:"Added to your cart!",subtext:"go to checkout",iconClassName:"fa-regular fa-check",iconAttrs:{style:{fontSize:"30px",animation:"scaleIn .3s ease"}}}:{text:"go to checkout",subtext:"model already added to your cart",iconClassName:""}:{text:"Add to cart",subtext:"",iconClassName:""}}({isModelInCart:t,isModelOwned:r,wasJustAdded:n}),{size:"huge",type:"store",className:c.Z["store-btn"],disabled:d,onClick:function(){r?h():t?f.push((0,v.HQ)("store:checkout")):l()}},o))}))}))}},wcvW:(e,t,o)=>{o.d(t,{Z:()=>n});var i,r=o("sQwH");o("3Z9q");const n=function(e){var t=e.displayNew;return void 0!==t&&t?i||(i=(0,r.Z)("span",{className:"flag --new",title:"New Collection"})):null}},"5LR8":(e,t,o)=>{o.d(t,{H5:()=>N,N$:()=>g,ZP:()=>y});var i=o("sQwH"),r=o("D4hk"),n=o("Wch8"),a=o("sGMM"),s=o("3MRe"),l=o("y+4b"),d=o.n(l),c=o("3Z9q"),u=o("VDcQ"),v=o("+zma"),m=o("vAnt"),p=o("zIQK"),Z=o("LLYa"),f=o("hDfq"),h=o("RyS8"),w=o("RA37"),b=["model","className"],g=function(e){var t,o=e.model,i=e.children;return o.isPublished||(0,Z.Le)(o)||"FAILED"===(null==o||null===(t=o.status)||void 0===t?void 0:t.processing)?null:i},N=function(e){var t=e.model,o=e.className,l=void 0===o?"":o,Z=(0,s.Z)(e,b),N=(0,u.I0)(),y=(0,u.v9)(v.wl.authUser.canAccessFeature("ff_read_only_mode")),_=(0,u.v9)(v.wl.authUser.user),C=_.uid===t.user.uid,E=c.useState({type:"unpublished"}),S=(0,a.Z)(E,2),k=S[0],O=S[1],D=c.useContext(w.w).colors,R=c.useCallback((0,n.Z)(d().mark((function e(){var o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N(v.Nw.models.tryPublish(t.uid));case 3:O({type:"published"}),setTimeout((function(){return O({type:"hidden"})}),3e3),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),O({type:"error",message:(0,h.Oe)(e.t0)?(0,h.wp)(e.t0,!1):"string"==typeof e.t0?e.t0:null!==(o=null===e.t0||void 0===e.t0?void 0:e.t0.message)&&void 0!==o?o:"Something went wrong."});case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),[N,t]);return"hidden"===k.type?null:(0,i.Z)(g,{model:t},void 0,(0,i.Z)(p.Z,{className:l,text:"error"===k.type?k.message:"published"===k.type?"Your model was successfully published":"protected"===t.visibility?"Only people with password and link will have access. No notifications will be sent.":"private"===t.visibility?"Only people with link will have access. No notifications will be sent.":"org"===t.visibility?"Everyone in this project will have access.":C&&!(0,f.ND)(_)&&"no"===t.downloadType?"Publish limit exceeded":"Everyone will have access. Followers will be notified."},void 0,c.createElement(m.Z,(0,r.Z)({text:"published"===k.type?"✔ Published":"Publish",size:"medium",type:"important",onClick:R,disabled:y||"unpublished"!==k.type||C&&!(0,f.ND)(_)&&"no"===t.downloadType,style:{backgroundColor:"published"===k.type?D["--color-success-300"]:""},className:"c-publish-button"},Z))))};const y=N},Ywfx:(e,t,o)=>{o.d(t,{Z:()=>w});var i,r,n=o("D4hk"),a=o("sQwH"),s=o("sGMM"),l=o("3MRe"),d=o("3Z9q"),c=o("LLYa"),u=o("l9Gv"),v=o("LH8s"),m=o("5LR8"),p=o("N+9a"),Z=o("GKm7"),f=o("ee4X"),h=["model"];const w=function(e){var t=e.model,o=(0,l.Z)(e,h),w=(0,c.nR)(t),b=(0,s.Z)(w,2),g=b[0],N=b[1];return(0,a.Z)(m.N$,{model:t},void 0,(0,a.Z)(Z.Z,{type:"warning",className:f.Z.message},void 0,(0,a.Z)("div",{className:f.Z.draft},void 0,i||(i=(0,a.Z)("p",{},void 0,"This model is a ",(0,a.Z)("strong",{},void 0,"Draft"),".")),(0,a.Z)("p",{},void 0,r||(r=(0,a.Z)("strong",{},void 0,"Publish it"))," to display and share it according to the"," ",(0,a.Z)(p.Z,{to:g,params:N},void 0,"model properties."))),(0,a.Z)(u.Z,{},void 0,(function(){return(0,a.Z)(v.Z,{model:t,className:f.Z.date})})),d.createElement(m.ZP,(0,n.Z)({model:t},o))))}},"875E":(e,t,o)=>{o.d(t,{Z:()=>f});var i=o("qD8I"),r=o("CUcO"),n=o("8N4v"),a=o("Zfzx"),s=o("FUT3"),l=o("hayj"),d=o("xKIK"),c=o("3Z9q"),u=o("VDcQ"),v=o("eKF4"),m=o("lrhy"),p=o("+zma");function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,i=(0,l.Z)(e);if(t){var r=(0,l.Z)(this).constructor;o=Reflect.construct(i,arguments,r)}else o=i.apply(this,arguments);return(0,s.Z)(this,o)}}const f=(0,u.$j)((function(e,t){var o=p.wl.entities.collection(t.collection.uid,e);return{canSubscribe:p.wl.authUser.uid(e)!==t.collection.user.uid,hasSubscribed:p.wl.authUser.hasSubscribed(t.collection.uid,e),subscriberCount:o?o.subscriberCount:t.collection.subscriberCount,hasEntity:!!o}}),{updateEntities:p.Nw.entities.update,getHasSubscribed:p.Nw.authUser.getHasSubscribed,toggleSubscribe:p.Nw.authUser.toggleSubscribe})(function(e){(0,a.Z)(o,e);var t=Z(o);function o(){var e;(0,i.Z)(this,o);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,d.Z)((0,n.Z)(e),"onToggleSubscribe",m.iB((function(){return v.Z.authenticate((function(){return e.props.hasEntity||e.props.updateEntities({collections:[e.props.collection]}),e.props.toggleSubscribe(e.props.collection.uid)}))}))),e}return(0,r.Z)(o,[{key:"componentDidMount",value:function(){this.props.getHasSubscribed(this.props.collection.uid)}},{key:"render",value:function(){return this.props.children({canSubscribe:this.props.canSubscribe,hasSubscribed:this.props.hasSubscribed,onToggleSubscribe:this.onToggleSubscribe,subscriberCount:this.props.subscriberCount})}}]),o}(c.Component))},bM0i:(e,t,o)=>{o.d(t,{Z:()=>n});var i=o("7isf"),r=o("3Z9q");const n=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];r.useEffect((function(){window.location.hash===e&&t&&t(e)}),[t].concat((0,i.Z)(o)))}},"TU/w":(e,t,o)=>{o.d(t,{Z:()=>rt});var i,r,n=o("D4hk"),a=o("sQwH"),s=o("Bpah"),l=o("3Z9q"),d=o("VDcQ"),c=o("+zma"),u=o("LLYa"),v=o("RyS8"),m=o("p5Lb"),p=o("1nxQ"),Z=o("83YH"),f=o("QFI+"),h=o("ZZB/"),w=o("Ywfx"),b=o("DJY/"),g=o("rv44"),N=o("zIQK"),y=o("NWyy"),_=o("e1Pq"),C=o("qlM8"),E=o("mSEu"),S=o("vAnt"),k=o("4z7H");function O(e){var t=e.model,o=e.onOpenDownloadPopup,n=e.onOpenAddToCollectionPopup,s=e.onOpenEmbedPopup,l=e.onOpenSharePopup,v=(0,d.v9)(c.wl.authUser.user),m=t.publishedAt&&!t.isDisabled&&!t.isDeleted,p=!((0,u.hv)(t.visibility)&&v.uid!==t.user.uid);return m?(0,a.Z)("div",{className:"c-model-actions"},void 0,"free"===t.downloadType?(0,a.Z)(S.Z,{type:"textified",className:"c-model-actions__button --download",onClick:o,title:"Download Free 3D Model",text:"Download 3D Model",iconClassName:"fa-regular fa-arrow-down-to-bracket","data-selenium":"open-download-popup"}):t.mayDownloadThisModel&&t.user.uid!==v.uid?(0,a.Z)(S.Z,{type:"black",className:"c-model-actions__button --download",onClick:o,title:"Download Free 3D Model",text:"Download 3D Model (Staff)",iconClassName:"fa-regular fa-arrow-down-to-bracket","data-selenium":"open-download-popup"}):null,p?(0,a.Z)(S.Z,{type:"textified",className:"button btn-medium c-model-actions__button --add-to",onClick:n,text:"Add to",iconClassName:"fa-regular fa-plus","data-selenium":"open-collection-popup"}):null,(0,a.Z)(S.Z,{type:"textified",className:"c-model-actions__button",iconClassName:"fa-regular fa-code",onClick:s,title:"Embed",text:"Embed"}),(0,a.Z)(S.Z,{type:"textified",className:"c-model-actions__button",onClick:l,title:"Share",text:"Share",iconClassName:"fa-regular fa-share"}),t.user.uid!==v.uid&&(0,a.Z)(k.Z,{host:E.Z.hosts.faq,type:"model",uid:t.uid,subject:t.name+" by "+t.user.username,className:"c-model-actions__button --report"},void 0,i||(i=(0,a.Z)("i",{className:"icon fa-regular fa-flag"})),r||(r=(0,a.Z)("span",{className:"c-model-actions__button-label"},void 0,"Report")))):null}var D,R=o("yQ9I"),A=o("sGMM"),x=o("AFjX"),P=o("rzLk"),T=o("5+EH"),L=o("PjtK"),U=o("xesV"),M=o("f49s"),j=o("BR/Y"),I=o("R276"),z=o("X40V");const H=function(e){var t=e.distribution,o=e.selected,i=e.onSelect,r=Object.keys(t).reduce((function(e,o){return e+t[o]}),0),n=Object.keys(t).sort((function(e,t){return parseInt(t)-parseInt(e)})).map((function(e){return{key:e,label:e+" star"+(parseInt(e)>1?"s":""),count:t[e],percentage:0===r?0:t[e]/r,className:o?e===o?"--active":"--inactive":""}}));return(0,a.Z)("div",{className:"c-rating-distribution"},void 0,n.map((function(e){return(0,a.Z)("div",{className:(0,z.AK)("c-rating-distribution__item",e.className),onClick:function(){return i(o===e.key?"":e.key)}},e.key,(0,a.Z)("div",{className:"label"},void 0,e.label),(0,a.Z)("div",{className:"percentage-container"},void 0,(0,a.Z)("div",{className:"percentage",style:{width:100*e.percentage+"%"}})),(0,a.Z)("div",{className:"count"},void 0,e.count),D||(D=(0,a.Z)("i",{className:"close-icon fa-regular fa-close"})))})))};var B,F;function X(e){var t=e.average,o=e.previewFidelity,i=e.easeOfUse,r=e.valueForMoney,n=e.distribution,s=e.selectedRating,d=e.onSelectRating,c=!(o||i||r);return(0,a.Z)("div",{className:"c-model-rating"},void 0,(0,a.Z)("div",{className:"c-model-rating__rating-block"},void 0,(0,a.Z)("div",{className:"c-model-rating__general"},void 0,(0,a.Z)("span",{className:"text","data-selenium":"average-rating"},void 0,t?(0,m.A6)(t,{numberOnly:!0}):"-"),(0,a.Z)(g.Z,{value:t||0,size:"medium"})),(0,a.Z)("div",{className:"c-model-rating__rating-details"},void 0,c?B||(B=(0,a.Z)("div",{className:"col"},void 0,"Not enough reviews to display rating")):(0,a.Z)(l.Fragment,{},void 0,F||(F=(0,a.Z)("div",{className:"col"},void 0,(0,a.Z)("span",{},void 0,"Preview accuracy"),(0,a.Z)("span",{},void 0,"Ease of use"),(0,a.Z)("span",{},void 0,"Value for money"))),(0,a.Z)("div",{className:"col"},void 0,o&&(0,a.Z)("span",{},void 0,(0,m.A6)(o)),i&&(0,a.Z)("span",{},void 0,(0,m.A6)(i)),r&&(0,a.Z)("span",{},void 0,(0,m.A6)(r)))))),(0,a.Z)("div",{className:"c-model-rating__distribution-block"},void 0,(0,a.Z)(H,{distribution:n,selected:s,onSelect:d})))}var q,K,Q=o("W4lT"),V=o("A2i4"),Y=o("5Y1a"),W=o("TUor"),G=o("LvQi");function J(e){var t=e.isAuthor,o=e.createdAt,i=e.editedAt,r=e.user;return(0,a.Z)("div",{},void 0,(0,a.Z)("div",{className:"review-item__author-name"},void 0,(0,a.Z)(G.Z,{withSummary:!0,user:r})),(0,a.Z)("div",{className:"review-item__meta"},void 0,t&&(q||(q=(0,a.Z)("span",{className:"author small-text"},void 0,"Model author"))),o&&(0,a.Z)("time",{className:"date datefuzz small-text",itemProp:"datecreated",dateTime:o,title:o},void 0,(0,W.Sy)(o)),i&&(K||(K=(0,a.Z)("span",{className:"date small-text"},void 0," (edited)")))))}var $,ee,te=o("TUnU");function oe(e){var t=e.createdAt,o=e.editedAt;return(0,a.Z)("div",{},void 0,$||($=(0,a.Z)("div",{className:"review-item__author-name"},void 0,(0,a.Z)(te.Z,{}))),(0,a.Z)("div",{className:"review-item__meta"},void 0,t&&(0,a.Z)("time",{className:"date datefuzz small-text",itemProp:"datecreated",dateTime:t,title:t},void 0,(0,W.Sy)(t)),o&&(ee||(ee=(0,a.Z)("span",{className:"date small-text"},void 0," (edited)")))))}var ie,re,ne,ae=o("bWE4"),se=o("xtQ3"),le=o("1bEe"),de=o("BNNE"),ce={replyBody:{initialValue:"",validators:[(0,le.C1)()]}};const ue=(0,se.Z)(ce)((function(e){var t=e.form,o=e.onReply,i=e.review,r=e.modelAuthor,s=l.useState(!1),u=(0,A.Z)(s,2),v=u[0],m=u[1],Z=(0,d.v9)(c.wl.authUser.user),f=l.useCallback((function(){return t.onSubmit((function(e){return o((0,p.sanitize)(e.replyBody)).then((function(){return m(!1)}))}))}),[t,o]);l.useEffect((function(){t.fields.replyBody.onChange(i.replyBody||"")}),[i.replyBody]);var h=Z.uid===r.uid;return(0,a.Z)("div",{className:"review-item__reply"},void 0,h&&v?(0,a.Z)(l.Fragment,{},void 0,l.createElement(ae.Z,(0,n.Z)({},t.fields.replyBody,{autofocus:!0,placeholder:"Your message...",onSubmit:f})),(0,a.Z)("div",{className:"review-item__reply__actions"},void 0,(0,a.Z)(S.Z,{text:"publish",size:"small",onClick:f}),(0,a.Z)(S.Z,{text:"cancel",size:"small",type:"tertiary",onClick:function(){return m(!1)}}),ie||(ie=(0,a.Z)("span",{className:"small-text"},void 0,"Note: Buyers can not delete their review nor reply to your message")))):i.replyBody?(0,a.Z)("div",{className:"review-item__reply__quote"},void 0,(0,a.Z)("div",{className:"review-item__corner-actions"},void 0,h&&(0,a.Z)("div",{className:"review-item__options"},void 0,re||(re=(0,a.Z)("i",{className:"fa-regular fa-cog"})),(0,a.Z)("ul",{className:"hover-menu --left"},void 0,(0,a.Z)("li",{onClick:function(){return m(!0)}},void 0,ne||(ne=(0,a.Z)("a",{},void 0,"Edit message")))))),(0,a.Z)("div",{className:"review-item__reply__author"},void 0,(0,a.Z)(de.Z,{uid:r.uid},void 0,(0,a.Z)("div",{className:"review-item__avatar","data-user":r.uid},void 0,(0,a.Z)(V.ZP,{alt:"Avatar of ".concat(r.username),images:r.avatars,width:32,height:32}))),(0,a.Z)(J,{user:r,isAuthor:!0,editedAt:i.replyEditedAt||void 0,createdAt:i.replyCreatedAt||void 0})),(0,a.Z)("div",{className:"review-item__text",itemProp:"text"},void 0,(0,a.Z)(Y.Z,{body:i.replyBody}))):h?(0,a.Z)(S.Z,{text:"Reply",size:"small",onClick:function(){return m(!0)}}):null)}));var ve,me,pe,Ze;function fe(e){var t=e.className,o=e.review,i=e.model,r=e.onReply,s=(0,d.v9)((function(e){return{hasUpvoted:c.wl.authUser.hasUpvotedReview(o.uid,e),authUser:c.wl.authUser.user(e)}})),u=s.hasUpvoted,v=s.authUser,Z=(0,d.I0)();l.useEffect((function(){Z(c.Nw.authUser.getHasUpvotedReview(o.uid))}),[o.uid]);var f,h=l.useCallback((function(){return Z(c.Nw.authUser.toggleUpvoteReview(o.uid))}),[o.uid]),w=Boolean(o.deletedAt)||o.user.isDeleted;return(0,a.Z)("div",{className:(0,z.AK)("review-item",t,{"--deleted":w}),itemProp:"review",itemScope:!0,itemType:"http://schema.org/Comment"},void 0,l.createElement("div",(0,n.Z)({className:"review-item__avatar"},o.user.isDeleted?{}:{"data-user":o.user.uid}),(0,a.Z)(de.Z,{uid:o.user.uid},void 0,(0,a.Z)(V.ZP,{alt:"Avatar of ".concat(o.user.username),images:o.user.avatars,width:32,height:32}))),(0,a.Z)("article",{className:"review-item__body"},void 0,(0,a.Z)("div",{className:"review-item__corner-actions"},void 0,v.uid===o.user.uid?null:(0,a.Z)("div",{className:(0,z.AK)("review-item__upvote","help",{"--active":u}),onClick:h},void 0,(0,a.Z)("span",{className:"review-item__upvote__text"},void 0,"Helpful",u?"!":"?"," "),ve||(ve=(0,a.Z)("span",{className:"review-item__upvote__icon fa-regular fa-thumbs-up"})),u&&(me||(me=(0,a.Z)("span",{className:"tooltip tooltip-down"},void 0,"You found this review helpful")))),w?null:(0,a.Z)("div",{className:"review-item__options"},void 0,pe||(pe=(0,a.Z)("i",{className:"fa-regular fa-cog"})),(0,a.Z)("ul",{className:"hover-menu --left"},void 0,v.uid===o.user.uid?(0,a.Z)("li",{},void 0,(0,a.Z)("a",{href:i.reviewUrl},void 0,"Edit review")):(0,a.Z)("li",{},void 0,(0,a.Z)(k.Z,{host:E.Z.hosts.faq,type:"review",uid:o.uid,subject:"Comment by ".concat(o.user.username," on ").concat(i.name)},void 0,"Report comment"))))),o.user.isDeleted?(0,a.Z)(oe,{editedAt:o.editedAt||void 0,createdAt:o.createdAt}):(0,a.Z)(J,{user:o.user,isAuthor:i.user.uid===o.user.uid,editedAt:o.editedAt||void 0,createdAt:o.createdAt}),(0,a.Z)("div",{className:"review-item__text",itemProp:"text"},void 0,(0,a.Z)("strong",{},void 0,"Usage: ",(f=o.usage,(0,Q.zy)(E.Z.reviewsUsageOptions,{title:"Unknown",value:""},(function(e){return e.value===f})).title)),(0,a.Z)(Y.Z,{body:o.body,isDeleted:w})),(0,a.Z)("div",{className:"review-item__bottom-info"},void 0,(0,a.Z)("span",{},void 0,"Rating: ",(0,m.A6)(o.averageRating)),Ze||(Ze=(0,a.Z)("span",{},void 0," - Verified purchase")),o.upvoteCount?(0,a.Z)("span",{},void 0," ","- ",o.upvoteCount," ",(0,p.pluralize)(o.upvoteCount,"person","people")," found this review helpful"):null),(0,a.Z)(ue,{review:o,modelAuthor:i.user,onReply:r})))}var he,we,be=o("Wch8"),ge=o("xKIK"),Ne=o("y+4b"),ye=o.n(Ne),_e=o("3wYL"),Ce=o("MBtD"),Ee=o("7Uq8"),Se=o("HGbS"),ke=o("JBVY");function Oe(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,i)}return o}function De(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(o),!0).forEach((function(t){(0,ge.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Oe(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}!function(e){e.REPLY="REPLY",e.GET_REVIEWS="GET_REVIEWS",e.NEXT_REVIEWS="NEXT_REVIEWS",e.UPDATE_FILTERS="UPDATE_FILTERS"}(we||(we={}));var Re,Ae={modelUid:null,reviews:_e.E3,filters:{sortBy:"-createdAt",rating:""},optimistic:{}},xe={reviews:{list:[Ee.j7]}},Pe=(0,Se.Ac)((0,Ce.Lq)(Ae,(he={},(0,ge.Z)(he,we.GET_REVIEWS,(function(e,t){return De(De({},e),{},{modelUid:t.modelUid,reviews:_e.rN(_e.V5.FIRST,e.reviews,t.effect)})})),(0,ge.Z)(he,we.NEXT_REVIEWS,(function(e,t){return De(De({},e),{},{reviews:_e.rN(_e.V5.NEXT,e.reviews,t.effect)})})),(0,ge.Z)(he,we.UPDATE_FILTERS,(function(e,t){return t.effect.caseOf({Rejected:function(){return e},Resolved:function(){return e},Pending:function(){return De(De({},e),{},{filters:De(De({},e.filters),t.filters)})}})})),(0,ge.Z)(he,we.REPLY,(function(e,t){return t.effect.caseOf({Pending:function(){return e},Rejected:function(){return e},Resolved:function(o){return De(De({},e),{},{reviews:_e.UI(e.reviews,(function(e){return e.uid===t.reviewUid?De(De({},e),o):e}))})}})})),he))),Te=function(e){return _e.wl.cursors(e.reviews)},Le=function(e){return e.filters},Ue=function(e){return _e.wl.isLoading(e.reviews)},Me=function(e){var t=e.results,o=e.next;return{list:t,cursors:{next:ke.ZP.string("offset","",o||""),previous:null}}},je={getReviews:function(e){return{type:we.GET_REVIEWS,payload:{modelUid:e,effect:function(t){return(0,be.Z)(ye().mark((function o(){var i,r,n,a;return ye().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return i=t.Api,r=t.getState,n=Le(r()),o.next=4,i.getModelReviews(e,void 0,n);case 4:return a=o.sent,o.abrupt("return",Me(a));case 6:case"end":return o.stop()}}),o)})))()}}}},nextReviews:function(e){return{type:we.NEXT_REVIEWS,payload:{effect:function(t){return(0,be.Z)(ye().mark((function o(){var i,r,n,a,s,l;return ye().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return i=t.Api,r=t.getState,n=Te(r()),a=n.next,s=Le(r()),o.next=5,i.getModelReviews(e,a,s);case 5:return l=o.sent,o.abrupt("return",Me(l));case 7:case"end":return o.stop()}}),o)})))()}}}},updateFilters:function(e){return{type:we.UPDATE_FILTERS,payload:{filters:e,effect:function(e){var t=e.dispatch,o=(0,e.getState)().modelUid;o&&t(je.getReviews(o))}}}},reply:function(e,t){return{type:we.REPLY,payload:{reviewUid:e,replyBody:t,effect:function(o){return o.Api.patchReview(e,{replyBody:t})}}}}},Ie={average:null,previewFidelity:null,easeOfUse:null,valueForMoney:null,reviewCount:0,distribution:{5:0,4:0,3:0,2:0,1:0}};function ze(e){var t=e.model,o=(0,j.Z)(Pe,Ae,xe),i=(0,A.Z)(o,2),r=i[0],s=i[1],u=(0,d.I0)(),v=(0,d.v9)((function(e){return c.wl.authUser.canReviewModel(t.uid,e)})),m=(0,I.Z)((function(e){return e.Api.getModelRatings(t.uid)}),Ie,[t.uid]),p=(0,A.Z)(m,1)[0];l.useEffect((function(){s(je.getReviews(t.uid)),u(c.Nw.authUser.canReviewModel(t.uid))}),[t.uid]);var Z=l.useCallback((function(e,t){return s(je.reply(e,t))}),[]);return(0,a.Z)("div",{className:"c-model-reviews"},void 0,(0,a.Z)("div",{className:"c-model-reviews__filters"},void 0,(0,a.Z)("div",{className:"c-model-reviews__select"},void 0,(0,a.Z)(M.Z,{value:r.filters.sortBy,onChange:function(e){return s(je.updateFilters({sortBy:e}))},options:[{title:"Most recent first",value:"-createdAt"},{title:"Highest ratings first",value:"-rating"},{title:"Lowest ratings first",value:"rating"},{title:"Most helpful first",value:"-upvoteCount"}]})),v&&(0,a.Z)("a",{href:t.reviewUrl,className:"skfb-link c-model-reviews__write-review-link"},void 0,"Write your review")),l.createElement(X,(0,n.Z)({},p,{selectedRating:r.filters.rating,onSelectRating:function(e){return s(je.updateFilters({rating:e}))}})),(0,a.Z)("div",{className:"c-model-reviews__list"},void 0,(0,a.Z)("div",{className:"c-model-reviews__items"},void 0,r.reviews.list.map((function(e){return(0,a.Z)(fe,{className:"c-model-reviews__item",review:e,model:t,onReply:function(t){return Z(e.uid,t)},"data-selenium":"review-item"},e.uid)})),Ue(r)&&(0,L.Z)(0,5).map((function(e){return(0,a.Z)(U.Z,{className:"c-model-reviews__item"},e)})))))}var He=["reviews","comments"];function Be(e){var t,o=e.model,i=e.selectedTab,r=o.hasCommentsDisabled,n=l.useState(o.publicCommentCount),s=(0,A.Z)(n,2),d=s[0],c=s[1],u=r||o.reviewCount?0:1,v=l.useState(u),m=(0,A.Z)(v,2),p=m[0],Z=m[1];l.useEffect((function(){Z(i?He.indexOf(i):p)}),[i]);var f="store"===o.downloadType,h=(0,a.Z)(T.Z,{model:o,onTotalCommentCountChange:function(e){return c(e)},shouldDisplayTitle:!f});return(0,a.Z)("div",{className:"c-model-feedbacks"},void 0,f?(0,a.Z)(x.Z,{selectedTabIndex:p,onSelectTab:Z,tabs:[{title:"".concat(o.reviewCount," Reviews"),render:function(){return t||(t=(0,a.Z)(ze,{model:o}))}},{title:r?(0,a.Z)(l.Fragment,{},void 0,"0 Comments ",(0,a.Z)(P.Z,{href:"".concat(E.Z.hosts.faq,"/articles/6655693644945-How-to-disable-model-comments"),message:"Comments are turned off. Click to learn more."})):"".concat(d," Comments"),render:function(){return h},isDisabled:r}]}):r?(0,a.Z)("div",{className:"c-model-comments-disabled"},void 0,Re||(Re=(0,a.Z)("div",{},void 0,"Comments are turned off. ")),(0,a.Z)("a",{className:"skfb-link",href:"".concat(E.Z.hosts.faq,"/articles/6655693644945-How-to-disable-model-comments"),target:"_blank",rel:"noopener noreferrer"},void 0,"Learn more")," "):h)}var Fe=o("5R6g"),Xe=o("pE7f"),qe=o("crlq"),Ke=o("XxrW"),Qe=o("u3Zj"),Ve=o("ajs0"),Ye=o("RA37");function We(e){var t=e.uid,o=(0,Ve.Z)((function(e){return e.Api.getModelRelatedModels(t)}),[t]),i=l.useContext(Ye.w).colors;return l.useEffect((function(){o.onLoadFirst()}),[t]),(0,a.Z)(Ke.r,{value:o.list},void 0,(0,a.Z)(qe.Z,{gridSize:"fullscreen",title:"store models",withBackground:!1,cards:o.list.map((function(e){return(0,a.Z)(Qe.Z,{model:e},e.uid)})),isLoading:o.isLoading,color:i["--color-secondary-400"]}))}var Ge,Je,$e,et,tt,ot,it=o("eUuo");const rt=function(e){var t=e.model,o=e.forcedFeedbackTab,i=e.onInspect,r=e.onOpenDownloadPopup,E=e.onScrollToReviews,S=(0,d.v9)(c.wl.authUser.user),k=(0,_.Z)().Popups,D=l.useCallback((function(){return k.loadModelEmbedPopup().then((function(e){return new e({model:t}).open()})).catch((0,v.KQ)(v.ud))}),[k,t]),A=l.useCallback((function(){k.loadSharePopup().then((function(e){return new e({model:t,type:"model"}).open()})).catch((0,v.KQ)(v.ud))}),[k,t]),x=l.useCallback((function(){return k.openAddToCollectionPopup(new s.Z(t))}),[k,t]);return(0,a.Z)("div",{className:"content-wrapper model-page-main"},void 0,(0,a.Z)("div",{},void 0,(0,a.Z)("div",{className:"viewer-additional"},void 0,(0,a.Z)("h1",{className:"model-name"},void 0,(0,a.Z)("div",{},void 0,(0,a.Z)(h.Z,{model:t,clickable:!1}),t.isPublished||1===t.processingStatus?null:Ge||(Ge=(0,a.Z)("span",{className:"flag --draft"})),t.isDisabled?Je||(Je=(0,a.Z)(N.Z,{className:"c-model-name__disabled",text:"Your model is disabled. For more details go to Edit properties"},void 0,(0,a.Z)("span",{className:"flag --disabled "}))):null,(0,a.Z)(f.Z,{model:t,withStaffpickLink:!0,withRestrictedFlag:!0})),$e||($e=(0,a.Z)("span",{className:"model-page-main__3d-model"},void 0,"3D Model"))),(0,a.Z)("div",{className:"tablet-and-below"},void 0,(0,u.J5)(S,t.user.uid)?(0,a.Z)(l.Fragment,{},void 0,(0,a.Z)(R.Z,{model:t,dataSeleniumPrefix:"mobile-"}),(0,a.Z)(w.Z,{model:t}),(0,a.Z)(Xe.Z,{model:t})):null,"store"===t.downloadType?(0,a.Z)("div",{className:"store-informations"},void 0,(0,a.Z)("div",{className:"store-informations__buy"},void 0,(0,a.Z)("div",{className:"store-informations__buy-info"},void 0,(0,a.Z)("div",{className:"store-informations__price"},void 0,(0,m.li)(t.price)),(0,a.Z)("div",{className:"rating help",onClick:E},void 0,(0,a.Z)(g.Z,{value:t.averageRating||0,identifier:"mobile"}),(0,a.Z)("span",{className:"tooltip tooltip-down"},void 0,t.averageRating?(0,a.Z)(l.Fragment,{},void 0,(0,a.Z)("span",{className:"count"},void 0,(0,m.A6)(t.averageRating))," star".concat((0,p.pluralize)(t.averageRating)),et||(et=(0,a.Z)("br",{})),"(",(0,a.Z)("span",{className:"count"},void 0,t.reviewCount)," ","reviews)"):"no reviews")," ",(0,a.Z)("span",{className:"skfb-link"},void 0,"".concat(t.reviewCount," review").concat((0,p.pluralize)(t.reviewCount))))),(0,a.Z)(Z.Z,{model:t})),(0,a.Z)("div",{className:"store-informations__more",onClick:function(){var e=new C.Z({model:t,authUser:S,onInspect:function(){e.close(),i&&i()}});return e.open()}},void 0,"Show 3D model information")):null),(0,a.Z)("div",{className:"owner-wrapper"},void 0,(0,a.Z)(it.Z,{entity:t}),(0,a.Z)("div",{className:"stats"},void 0,t.displayStatus&&!t.isDisabled&&t.isPublished?(0,a.Z)(l.Fragment,{},void 0,"free"===t.downloadType?(0,a.Z)("div",{className:"downloads help"},void 0,tt||(tt=(0,a.Z)("div",{className:"icon fa-regular fa-arrow-down-to-bracket"})),(0,a.Z)("span",{className:"count"},void 0,(0,m.sH)(t.downloadCount)),(0,a.Z)("div",{className:"tooltip tooltip-down"},void 0,(0,a.Z)("span",{className:"count"},void 0,t.downloadCount)," Download".concat((0,p.pluralize)(t.downloadCount)))):null,(0,a.Z)("div",{className:"views help"},void 0,ot||(ot=(0,a.Z)("div",{className:"icon fa-regular fa-eye"})),(0,a.Z)("span",{className:"count"},void 0,(0,m.sH)(t.viewCount)),(0,a.Z)("div",{className:"tooltip tooltip-down"},void 0,(0,a.Z)("span",{className:"count"},void 0,t.viewCount)," View".concat((0,p.pluralize)(t.viewCount)))),(0,a.Z)(y.Z,{model:t},void 0,(function(e){return l.createElement(b.Z,(0,n.Z)({className:"c-star-like-button__button"},e))}))):null)),(0,a.Z)("div",{className:"js-model-actions"},void 0,(0,a.Z)(O,{model:t,onOpenEmbedPopup:D,onOpenSharePopup:A,onOpenDownloadPopup:r,onOpenAddToCollectionPopup:x}))),(0,a.Z)(Fe.Z,{model:t,onInspect:i,showLicense:!0,showModelInfo:!0,showLikes:!0}),"store"===t.downloadType?(0,a.Z)("div",{className:"store-suggestions"},void 0,(0,a.Z)(We,{uid:t.uid})):null,(0,a.Z)("div",{className:"comments-wrapper",id:"comments"},void 0,t.publishedAt&&!t.isDisabled?(0,a.Z)(Be,{model:t,selectedTab:o}):null)))}},"14HT":(e,t,o)=>{o.d(t,{E3:()=>c,I6:()=>u,Nw:()=>p,fK:()=>d,wl:()=>v});var i,r,n=o("xKIK"),a=o("7Uq8"),s=o("MBtD"),l=o("3wYL");!function(e){e.GET_RELATED_MODELS="GET_RELATED_MODELS",e.NEXT_RELATED_MODELS="NEXT_RELATED_MODELS"}(r||(r={}));var d={models:{list:[a.o4]}},c={models:l.E3},u=(0,s.Lq)(c,(i={},(0,n.Z)(i,r.GET_RELATED_MODELS,(function(e,t){return{models:l.rN(l.V5.FIRST,e.models,t.effect)}})),(0,n.Z)(i,r.NEXT_RELATED_MODELS,(function(e,t){return{models:l.rN(l.V5.NEXT,e.models,t.effect)}})),i)),v={isLoading:function(e){return l.wl.isLoading(e.models)},cursors:function(e){return l.wl.cursors(e.models)},hasNextPage:function(e){return l.wl.hasNextPage(e.models)},relatedModels:function(e){return l.wl.list(e.models)}},m=function(e){return{list:e.results,cursors:e.cursors}},p={getRelatedModels:function(e,t){return{type:r.GET_RELATED_MODELS,payload:{effect:function(o){return o.Api.getModelRelatedModels(e,null,t).then(m)}}}},nextRelatedModels:function(e){return{type:r.NEXT_RELATED_MODELS,payload:{effect:function(t){var o=t.Api,i=t.getState,r=v.cursors(i()).next;return o.getModelRelatedModels(e,r).then(m)}}}}}},pE7f:(e,t,o)=>{o.d(t,{Z:()=>c});var i=o("sQwH"),r=(o("3Z9q"),o("VDcQ")),n=o("+zma"),a=o("LLYa"),s=o("xtOe"),l=o("ylTM"),d=o("R1Z3");const c=function(e){var t=e.model,o=(0,r.v9)(n.wl.authUser.user);if(!(0,a.J5)(o,t.user.uid))return null;var c=(0,s.Z)(t.uid,!0);return c&&(0,i.Z)(l.Z,{model:(0,d.Z)(t,["uid","org","user"]),context:c.context,status:c.status})}},MjM1:(e,t,o)=>{o.d(t,{Z:()=>fe});var i,r=o("sQwH"),n=o("3Z9q"),a=o("VDcQ"),s=o("+zma"),l=o("LLYa"),d=o("p5Lb"),c=o("83YH"),u=o("Ywfx"),v=o("aI61"),m=o("yQ9I"),p=o("sGMM"),Z=o("D7W8"),f=o("PjtK"),h=o("BR/Y");const w=function(){return i||(i=(0,r.Z)("div",{className:"placeholder c-list-item-placeholder --small-card"},void 0,(0,r.Z)("div",{className:"placeholder__card"},void 0,(0,r.Z)("div",{className:"placeholder__image"}),(0,r.Z)("div",{className:"placeholder__container"},void 0,(0,r.Z)("div",{className:"placeholder__text --w-80"}),(0,r.Z)("div",{className:"placeholder__text --small --w-50"})))))};var b,g=o("D4hk"),N=o("1nxQ"),y=o("875E"),_=o("6tbf"),C=o("wcvW"),E=o("pDOP"),S=o("qZtf"),k=o("LvQi"),O=o("R276");function D(e){var t=e.deferImages,o=void 0===t||t,i=e.displayNew,a=void 0!==i&&i,s=e.collection,l=(0,O.Z)((function(e){return e.Api.getCollectionThumbnails(s.uid)}),[],[s.uid]),c=(0,p.Z)(l,1)[0];return(0,r.Z)("div",{className:"collection-smallcard"},void 0,(0,r.Z)("a",{className:"collection-smallcard__thumbnails",href:s.collectionUrl,"aria-label":"Open the collection ".concat((0,N.escapeHTML)(s.name))},void 0,(0,f.Z)(0,4).map((function(e){return(0,r.Z)(_.Z,{className:"collection-smallcard__thumbnail",thumbnails:c[e]||[],width:85,height:765/16,deferImages:o},e)})),(0,r.Z)("div",{className:"card__main__corner --top-left"},void 0,(0,r.Z)(C.Z,{displayNew:a}))),(0,r.Z)("div",{className:"meta"},void 0,(0,r.Z)("div",{className:"information"},void 0,(0,r.Z)("div",{className:"name"},void 0,(0,r.Z)(E.Z,{collection:s})),(0,r.Z)("div",{className:"user"},void 0,(0,r.Z)(k.Z,{user:s.user,withoutBadge:!0}))),(0,r.Z)("div",{className:"stats"},void 0,s.modelCount>0&&(0,r.Z)("div",{className:"card__footer__stats --models help"},void 0,(0,r.Z)("span",{className:"count"},void 0,(0,d.sH)(s.modelCount)),b||(b=(0,r.Z)("div",{className:"tooltip tooltip-up"},void 0,"Models"))),(0,r.Z)(y.Z,{collection:s},void 0,(function(e){return n.createElement(S.Z,(0,g.Z)({},e,{className:"card__footer__stats --subscribes",tooltipClassName:"tooltip tooltip-up",subscriberCount:e.subscriberCount||s.subscriberCount}))})))))}const R=n.memo(D);var A,x=o("xKIK"),P=o("7Uq8"),T=o("MBtD"),L=o("3wYL");!function(e){e.GET_RELATED_COLLECTIONS="GET_RELATED_COLLECTIONS"}(A||(A={}));var U,M={collections:{list:[P.hJ]}},j={collections:L.E3},I=(0,T.Lq)(j,(0,x.Z)({},A.GET_RELATED_COLLECTIONS,(function(e,t){return{collections:L.rN(L.V5.FIRST,e.collections,t.effect)}}))),z=function(e){return L.wl.isLoading(e.collections)},H=function(e){return L.wl.list(e.collections)},B=function(e){return{type:A.GET_RELATED_COLLECTIONS,payload:{effect:function(t){return t.Api.getModelRelatedCollections(e).then((function(e){return{list:e.results,cursors:{next:null,previous:null}}}))}}}};const F=function(e){var t=e.modelUid,o=(0,h.Z)(I,j,M),i=(0,p.Z)(o,2),a=i[0],s=i[1],l=H(a);(0,n.useEffect)((function(){s(B(t))}),[s,t]);var d=z(a);return!(0,Z.Z)(l)||d?(0,r.Z)(n.Fragment,{},void 0,U||(U=(0,r.Z)("span",{className:"sidebar-title"},void 0,"In collections")),(0,r.Z)("div",{className:"c-vertical-list"},void 0,l.map((function(e){return(0,r.Z)(R,{collection:e},e.uid)})),d&&(0,f.Z)(0,3).map((function(e){return(0,r.Z)(w,{},"placeholder-".concat(e))})))):null};var X,q,K=o("vAnt"),Q=o("AhsD"),V=o("nnpx"),Y=o("VOMu"),W=o("QFI+"),G=o("ZZB/"),J=o("XxrW"),$=o("DJY/"),ee=o("NWyy"),te=o("l9Gv"),oe=o("iu9k");function ie(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,i)}return o}function re(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(o),!0).forEach((function(t){(0,x.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):ie(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var ne=n.memo((function(e){var t=e.model;return(0,r.Z)(Q.Z,{},void 0,(0,r.Z)("div",{className:"model-smallcard",itemScope:!0,itemType:"http://schema.org/3DModel","data-uid":t.uid},void 0,(0,r.Z)("meta",{itemProp:"commentCount",content:t.publicCommentCount.toString()}),(0,r.Z)("meta",{itemProp:"isFamilyFriendly",content:"".concat(!t.isRestricted)}),(0,r.Z)("meta",{itemProp:"isBasedOnUrl",content:"".concat(t.viewerUrl,"/editor")}),(0,r.Z)("meta",{itemProp:"name",content:t.name}),(0,r.Z)("meta",{itemProp:"url",content:t.viewerUrl}),(0,r.Z)("meta",{itemProp:"discussionUrl",content:"".concat(t.viewerUrl,"#comments")}),(0,r.Z)("div",{className:"model-smallcard__thumbnail"},void 0,(0,r.Z)(J.Z,{"aria-label":"Visit ".concat(t.name," 3D model"),model:t,className:"card-model__thumbnail-link"},void 0,(0,r.Z)(_.Z,{className:"thumbnail",width:170,height:95.625,thumbnails:t.thumbnails}),(0,r.Z)(te.Z,{},void 0,(function(){return(0,r.Z)("div",{className:"card__360-preview"},void 0,(0,r.Z)(V.Z,{modelUid:t.uid}))}))),(0,r.Z)("div",{className:"card__main__corner --top-left --small"},void 0,(0,r.Z)(W.Z,{model:t,displayRecentlyStaffpicked:!0})),(0,r.Z)("div",{className:"card__main__corner --top-right"},void 0,n.createElement(Y.Z,t))),(0,r.Z)("div",{className:"meta"},void 0,(0,r.Z)("div",{className:"information"},void 0,(0,r.Z)("div",{className:"name",itemProp:"name"},void 0,(0,r.Z)(G.Z,{model:t})),(0,r.Z)("div",{className:"user"},void 0,(0,r.Z)(k.Z,{user:t.org?re(re({},t.org),{},{account:"ent",profileUrl:(0,oe.HQ)("users:profile_summary",{username:t.org.username})}):t.user,withoutBadge:!0}))),(0,r.Z)("div",{className:"stats"},void 0,(0,r.Z)("span",{className:"views help"},void 0,(0,r.Z)("span",{className:"count"},void 0,(0,d.sH)(t.viewCount)),X||(X=(0,r.Z)("span",{className:"tooltip tooltip-up"},void 0,"Views"))),(0,r.Z)(J.Z,{"aria-label":"Comment ".concat(t.name," 3D model"),model:t,className:"comments help",suffix:t.isPublished?"#comments":"",itemProp:"discussionUrl"},void 0,(0,r.Z)("span",{className:"count"},void 0,(0,d.sH)(t.publicCommentCount)),q||(q=(0,r.Z)("span",{className:"tooltip tooltip-up"},void 0,"Comment"))),(0,r.Z)(ee.Z,{model:t},void 0,(function(e){var t=e.doesLike,o=e.onToggleLike,i=e.likeCount;return(0,r.Z)($.Z,{className:"likes",tooltipClassName:"tooltip-up",likeCount:i,doesLike:t,onToggleLike:o})}))))))}));ne.displayName="ModelSmallCard";const ae=ne;var se,le=o("14HT"),de=function(e){var t=e.modelUid,o=(0,h.Z)(le.I6,le.E3,le.fK),i=(0,p.Z)(o,2),a=i[0],s=i[1],l=le.wl.relatedModels(a);(0,n.useEffect)((function(){s(le.Nw.getRelatedModels(t))}),[s,t]);var d=le.wl.hasNextPage(a),c=le.wl.isLoading(a);return!(0,Z.Z)(l)||c?(0,r.Z)(n.Fragment,{},void 0,se||(se=(0,r.Z)("span",{className:"sidebar-title"},void 0,"Suggested 3D Models")),(0,r.Z)("div",{className:"c-vertical-list"},void 0,(0,r.Z)(J.r,{value:l},void 0,l.map((function(e){return(0,r.Z)(ae,{model:e},e.uid)}))),c&&(0,f.Z)(0,6).map((function(e){return(0,r.Z)(w,{},"placeholder-".concat(e))})),d&&(0,r.Z)(K.Z,{className:"c-vertical-list__button",text:"load more",size:"small",type:"tertiary",onClick:function(){s(le.Nw.nextRelatedModels(t))},loading:c}))):null};const ce=n.memo(de);var ue,ve,me,pe=o("pE7f"),Ze=n.memo((function(){return ue||(ue=(0,r.Z)("div",{className:"c-payment-solutions"},void 0,(0,r.Z)("div",{className:"c-payment-solutions__image --card-visa"}),(0,r.Z)("div",{className:"c-payment-solutions__image --card-mastercard"}),(0,r.Z)("div",{className:"c-payment-solutions__image --card-amex"}),"via",(0,r.Z)("div",{className:"c-payment-solutions__image --paypal"})))}));const fe=function(e){var t=e.model,o=e.metaImageUrl,i=e.onInspect,p=void 0===i?function(){}:i,Z=e.onReviewsClick,f=void 0===Z?function(){}:Z,h=(0,a.v9)(s.wl.authUser.user);return(0,r.Z)("div",{},void 0,(0,r.Z)("meta",{itemProp:"commentCount",content:"".concat(t.publicCommentCount)}),(0,r.Z)("meta",{itemProp:"discussionUrl",content:"".concat(t.viewerUrl,"#comments")}),(0,r.Z)("meta",{itemProp:"isBasedOnUrl",content:"".concat(t.viewerUrl,"/editor")}),(0,r.Z)("meta",{itemProp:"url",content:t.viewerUrl}),o?(0,r.Z)("link",{itemProp:"thumbnailUrl",href:o}):null,(0,l.J5)(h,t.user.uid)?(0,r.Z)(n.Fragment,{},void 0,(0,r.Z)(m.Z,{model:t}),(0,r.Z)(u.Z,{model:t}),(0,r.Z)(pe.Z,{model:t})):null,"store"===t.downloadType?(0,r.Z)("div",{className:"store-informations"},void 0,(0,r.Z)("div",{className:"store-informations__header"},void 0,(0,r.Z)("div",{className:"store-informations__header__price"},void 0,(0,d.li)(t.price)),ve||(ve=(0,r.Z)("ul",{className:"store-informations__header__list"},void 0,(0,r.Z)("li",{},void 0,(0,r.Z)("i",{className:"fa-regular fa-lock-keyhole fa-fw"}),"Secure payment"),(0,r.Z)("li",{},void 0,(0,r.Z)("i",{className:"fa-regular fa-envelope fa-fw"}),"Support from sellers"),(0,r.Z)("li",{},void 0,(0,r.Z)("i",{className:"fa-regular fa-clock-rotate-left fa-flip-horizontal fa-fw"}),"Access to future versions"))),(0,r.Z)(c.Z,{model:t,"data-selenium":"sidebar-store-button"}),me||(me=(0,r.Z)(Ze,{}))),(0,r.Z)("div",{className:"store-informations__model"},void 0,(0,r.Z)(v.Z,{model:t,onInspectModel:p,onReviewsClick:f}))):t.publishedAt&&!t.isDisabled?(0,r.Z)(n.Fragment,{},void 0,(0,r.Z)(F,{modelUid:t.uid}),(0,r.Z)(ce,{modelUid:t.uid})):null)}}}]);